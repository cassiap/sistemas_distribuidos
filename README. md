ğŸ–§ Projeto â€“ Arquitetura de Sistemas DistribuÃ­dos

Este repositÃ³rio contÃ©m a implementaÃ§Ã£o das sprints do projeto de Arquitetura de Sistemas DistribuÃ­dos (2025/2).
O objetivo Ã© desenvolver uma arquitetura P2P com balanceamento dinÃ¢mico, seguindo as entregas definidas pelo professor.

ğŸ“Œ Sprint 1 â€“ Heartbeat ContÃ­nuo
Objetivo

Implementar o mecanismo de heartbeat entre servidores para manter uma lista atualizada de peers ativos, com timeout automÃ¡tico.

Protocolo

Servidor A â†’ Servidor B

{"TASK": "HEARTBEAT"}


Servidor B â†’ Servidor A

{"TASK": "HEARTBEAT", "RESPONSE": "ALIVE", "SERVER_ID": "UUID_B"}

Comportamento

Cada nÃ³ envia batidas periÃ³dicas de heartbeat para seus peers.

As respostas atualizam a lista de servidores ativos.

Se um servidor nÃ£o responder dentro do timeout, Ã© marcado como TIMEOUT.

ğŸ“‚ Estrutura do Projeto
.
â”œâ”€â”€ hb_common.py         # FunÃ§Ãµes utilitÃ¡rias para envio/recebimento de JSON via socket
â”œâ”€â”€ registry.py          # Registro de servidores com controle de timeout
â”œâ”€â”€ node.py              # ImplementaÃ§Ã£o do nÃ³ (server + client heartbeat)
â”œâ”€â”€ run_examples.txt     # Exemplos de execuÃ§Ã£o
â””â”€â”€ README.md            # Este documento

â–¶ï¸ Como Executar

Abra dois terminais (ou mais) e rode:

Terminal 1 (porta 9101):

python node.py --port 9101 --peer 127.0.0.1:9102 --interval 2 --timeout 6


Terminal 2 (porta 9102):

python node.py --port 9102 --peer 127.0.0.1:9101 --interval 2 --timeout 6

SaÃ­da esperada

Cada nÃ³ imprimirÃ¡ periodicamente sua registry:

[ab12cd34] registry: {
  '2f1e...': {'server_id': '2f1e...', 'host': '127.0.0.1', 'port': 9102, 'last_seen': 169..., 'status': 'ALIVE'}
}


Se vocÃª fechar o Terminal 2, apÃ³s ~6 segundos o nÃ³ do Terminal 1 atualizarÃ¡ o status do peer para TIMEOUT.

âš™ï¸ ParÃ¢metros

--port â†’ porta TCP do nÃ³.

--peer host:port â†’ peers para enviar heartbeat (pode repetir).

--interval â†’ intervalo entre heartbeats (segundos).

--timeout â†’ tempo mÃ¡ximo sem resposta para marcar TIMEOUT.

ğŸš€ PrÃ³ximas Sprints

Sprint 2: Monitoramento de carga e threshold.

Sprint 3: Protocolo de conversa consensual entre Masters.

Sprint 4: Redirecionamento dinÃ¢mico de Workers.